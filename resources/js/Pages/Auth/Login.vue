<script setup>
import { Head } from '@inertiajs/vue3';
import CustomInput from '@/Components/CustomInput.vue'
import PrimaryButton from '@/Components/PrimaryButton.vue'
import Auth from '@/Helpers/Api/Auth.js'
import Store from '@/Store';
import Loading from '@/Components/Loading.vue'
import Modal from '@/Components/Modal.vue';
import Register from '@/Pages/Auth/Register.vue'

</script>

<template>
    <Head title="Login" />
    <Loading v-if="!onComplete"/>

    <Modal :show="registerModalShowed" :closeable="true" @close="closeRegisterModal">
        <Register v-model:show="registerModalShowed"/>
    </Modal>

    <div id="login-page" class="flex h-screen justify-center items-center">
        <div id="container">
            <svg id="hero-logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 445 74">
                <defs>
                    <component is="style">
                        .cls-1 { fill: #fff; }
                        .cls-2 { fill: url(#linear-gradient); }
                        .cls-3 { fill: url(#linear-gradient-2); }
                        .cls-4 { fill: url(#linear-gradient-3); }
                        .cls-5 { fill: url(#linear-gradient-4); }
                        .cls-6 { fill: url(#linear-gradient-5); }
                        .cls-7 { fill: url(#linear-gradient-6); }
                        .cls-8 { fill: url(#linear-gradient-7); }
                        .cls-9 { fill: url(#linear-gradient-8); }
                        .cls-10 { fill: url(#linear-gradient-9); }
                        .cls-11 { fill: url(#linear-gradient-10); }
                        .cls-12 { fill: url(#linear-gradient-11); }
                        .cls-13 { fill: url(#linear-gradient-12); }
                        .cls-14 { fill: url(#linear-gradient-13); }
                        .cls-15 { fill: url(#linear-gradient-14); }
                        .cls-16 { fill: url(#linear-gradient-15); }
                        .cls-17 { fill: url(#linear-gradient-16); }
                        .cls-18 { fill: url(#linear-gradient-17); }
                        .cls-19 { fill: url(#linear-gradient-18); }
                        .cls-20 { fill: url(#linear-gradient-19); }
                        .cls-21 { fill: url(#linear-gradient-21); }
                        .cls-22 { fill: url(#linear-gradient-22); }
                    </component>
                    <linearGradient id="linear-gradient" x1="371.22" y1="14.56" x2="362.92" y2="47.88" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#fbb116"></stop>
                        <stop offset="1" stop-color="#ee3837" stop-opacity="0.9"></stop>
                    </linearGradient>
                    <linearGradient id="linear-gradient-2" x1="368.23" y1="0.65" x2="365.9" y2="10" xlink:href="#linear-gradient"></linearGradient>
                    <linearGradient id="linear-gradient-3" x1="425.71" y1="13.98" x2="417.16" y2="48.26" xlink:href="#linear-gradient"></linearGradient>
                    <linearGradient id="linear-gradient-4" x1="347.73" y1="14.02" x2="339.04" y2="48.87" xlink:href="#linear-gradient"></linearGradient>
                    <linearGradient id="linear-gradient-5" x1="394.31" y1="6.36" x2="384.29" y2="46.54" xlink:href="#linear-gradient"></linearGradient>
                    <linearGradient id="linear-gradient-6" x1="35.78" y1="19.68" x2="55.67" y2="40.91" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#b14326"></stop>
                        <stop offset="0.72" stop-color="#f05a25"></stop>
                    </linearGradient>
                    <linearGradient id="linear-gradient-7" x1="184.11" y1="-58.28" x2="222.92" y2="-98.26" gradientTransform="translate(-113.1 116.9)" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#57aed8"></stop>
                        <stop offset="0.67" stop-color="#393f98"></stop>
                    </linearGradient>
                    <linearGradient id="linear-gradient-8" x1="168.46" y1="-73.47" x2="207.28" y2="-113.46" xlink:href="#linear-gradient-7"></linearGradient>
                    <linearGradient id="linear-gradient-9" x1="45.05" y1="11" x2="64.94" y2="32.22" xlink:href="#linear-gradient-6"></linearGradient>
                    <linearGradient id="linear-gradient-10" x1="162.8" y1="-78.97" x2="201.62" y2="-118.95" xlink:href="#linear-gradient-7"></linearGradient>
                    <linearGradient id="linear-gradient-11" x1="-437.88" y1="-83.74" x2="-475.42" y2="-119.82" gradientTransform="matrix(-1, -0.01, -0.01, 1, -431.3, 123.56)" gradientUnits="userSpaceOnUse">
                        <stop offset="0.18" stop-color="#fbb116"></stop>
                        <stop offset="1" stop-color="#ee3837"></stop>
                    </linearGradient>
                    <linearGradient id="linear-gradient-12" x1="35.87" y1="19.6" x2="55.76" y2="40.82" xlink:href="#linear-gradient-6"></linearGradient>
                    <linearGradient id="linear-gradient-13" x1="-446.02" y1="-75.27" x2="-483.56" y2="-111.35" xlink:href="#linear-gradient-11"></linearGradient>
                    <linearGradient id="linear-gradient-14" x1="-1191.65" y1="240.47" x2="-1179.03" y2="261.36" gradientTransform="matrix(-0.15, 0.99, 0.99, 0.15, -348.31, 1178.37)" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#2e3191"></stop>
                        <stop offset="1" stop-color="#446eb5"></stop>
                    </linearGradient>
                    <linearGradient id="linear-gradient-15" x1="-1210.28" y1="251.73" x2="-1197.66" y2="272.61" xlink:href="#linear-gradient-14"></linearGradient>
                    <linearGradient id="linear-gradient-16" x1="181.05" y1="-61.25" x2="219.87" y2="-101.23" xlink:href="#linear-gradient-7"></linearGradient>
                    <linearGradient id="linear-gradient-17" x1="-1202.99" y1="247.32" x2="-1190.37" y2="268.21" xlink:href="#linear-gradient-14"></linearGradient>
                    <linearGradient id="linear-gradient-18" x1="-1210.76" y1="252.02" x2="-1198.15" y2="272.91" xlink:href="#linear-gradient-14"></linearGradient>
                    <linearGradient id="linear-gradient-19" x1="186.49" y1="-55.97" x2="225.31" y2="-95.95" xlink:href="#linear-gradient-7"></linearGradient>
                    <linearGradient id="linear-gradient-21" x1="-1209.73" y1="251.4" x2="-1197.12" y2="272.28" xlink:href="#linear-gradient-14"></linearGradient>
                    <linearGradient id="linear-gradient-22" x1="187.36" y1="-55.12" x2="226.18" y2="-95.1" xlink:href="#linear-gradient-7"></linearGradient>
                </defs>
                <title>Logotipo Marcasite</title>
                <title>Logotipo Marcasite</title>
                <path class="cls-1" d="M340.66,64.28a.37.37,0,0,1,.27.11.39.39,0,0,1,.11.29V70.5a.36.36,0,0,1-.11.27.37.37,0,0,1-.27.12.36.36,0,0,1-.29-.12.37.37,0,0,1-.12-.27V69l.24-.09a1.61,1.61,0,0,1-.2.73,2.78,2.78,0,0,1-.55.7,3.1,3.1,0,0,1-.82.52,2.7,2.7,0,0,1-1,.2,2.8,2.8,0,0,1-1.56-.46,3.14,3.14,0,0,1-1.09-1.24,3.93,3.93,0,0,1-.39-1.77,3.77,3.77,0,0,1,.4-1.78,3.19,3.19,0,0,1,1.09-1.21,2.87,2.87,0,0,1,2.58-.24,2.61,2.61,0,0,1,.84.53,2.53,2.53,0,0,1,.57.77,2.18,2.18,0,0,1,.2.9l-.28-.2V64.68a.4.4,0,0,1,.12-.29A.38.38,0,0,1,340.66,64.28Zm-2.69,6a2.17,2.17,0,0,0,1.21-.35,2.56,2.56,0,0,0,.84-1,3.19,3.19,0,0,0,.3-1.4,3,3,0,0,0-.3-1.36,2.49,2.49,0,0,0-.84-1,2.1,2.1,0,0,0-1.21-.36,2.16,2.16,0,0,0-1.21.34,2.35,2.35,0,0,0-.84,1,3,3,0,0,0-.31,1.4,3.19,3.19,0,0,0,.3,1.4,2.45,2.45,0,0,0,.83,1A2.24,2.24,0,0,0,338,70.29Z"></path>
                <path class="cls-1" d="M347.07,64.12a2.86,2.86,0,0,1,1.06.2,3.34,3.34,0,0,1,.86.52,2.68,2.68,0,0,1,.57.67,1.37,1.37,0,0,1,.21.68l-.21-.31v-1.2a.44.44,0,0,1,.11-.29.41.41,0,0,1,.28-.11.39.39,0,0,1,.28.11.44.44,0,0,1,.11.29v5.61a3.24,3.24,0,0,1-.43,1.73,2.72,2.72,0,0,1-1.15,1.08,3.59,3.59,0,0,1-1.66.37,4.71,4.71,0,0,1-1-.11,4,4,0,0,1-.85-.3.73.73,0,0,1-.41-.38.33.33,0,0,1-.08-.22.24.24,0,0,1,.1-.19.26.26,0,0,1,.28,0c.09,0,.24.11.43.19l.34.11a3.11,3.11,0,0,0,.53.14,3.21,3.21,0,0,0,.63.06,2.26,2.26,0,0,0,2.45-2.41V69.1l.13,0a2,2,0,0,1-.38.8,2.49,2.49,0,0,1-.62.59,3.05,3.05,0,0,1-.78.36,3,3,0,0,1-.83.13,2.94,2.94,0,0,1-1.61-.46,3.2,3.2,0,0,1-1.13-1.23,3.73,3.73,0,0,1-.41-1.77,3.77,3.77,0,0,1,.41-1.76,3.2,3.2,0,0,1,1.13-1.23A2.9,2.9,0,0,1,347.07,64.12Zm.08.74A2.37,2.37,0,0,0,345,66.17,3.2,3.2,0,0,0,345,69a2.45,2.45,0,0,0,.88,1,2.44,2.44,0,0,0,2.52,0,2.4,2.4,0,0,0,.88-1,3.2,3.2,0,0,0,0-2.83,2.44,2.44,0,0,0-.88-1A2.33,2.33,0,0,0,347.15,64.86Z"></path>
                <path class="cls-1" d="M356.35,71a3.56,3.56,0,0,1-1.76-.43,3,3,0,0,1-1.18-1.19,3.54,3.54,0,0,1-.43-1.79,3.77,3.77,0,0,1,.43-1.87,3.19,3.19,0,0,1,1.13-1.2,2.77,2.77,0,0,1,1.46-.42,3.25,3.25,0,0,1,1.11.2,3,3,0,0,1,.95.6,2.9,2.9,0,0,1,.67,1A3.2,3.2,0,0,1,359,67.2a.38.38,0,0,1-.38.38h-5.19l-.15-.7h5.08l-.17.15v-.26a1.84,1.84,0,0,0-.39-1,2.22,2.22,0,0,0-.81-.65,2.25,2.25,0,0,0-1-.23,2.1,2.1,0,0,0-.79.16,2.05,2.05,0,0,0-.74.48,2.37,2.37,0,0,0-.53.84,3.19,3.19,0,0,0-.21,1.21A3.05,3.05,0,0,0,354,69a2.41,2.41,0,0,0,.89,1,2.64,2.64,0,0,0,1.41.36,2.28,2.28,0,0,0,.8-.13,2.4,2.4,0,0,0,1.1-.79.45.45,0,0,1,.27-.11.3.3,0,0,1,.24.1.33.33,0,0,1,0,.5,3.46,3.46,0,0,1-1,.81A2.75,2.75,0,0,1,356.35,71Zm-.15-8.69-1.13.94a1.53,1.53,0,0,1-.16.13.31.31,0,0,1-.17.05.23.23,0,0,1-.16-.06.22.22,0,0,1-.06-.15.2.2,0,0,1,0-.1.24.24,0,0,1,.08-.1l.93-1a.52.52,0,0,1,.44-.22h.21a.6.6,0,0,1,.24,0,.46.46,0,0,1,.17.17l.93,1a.38.38,0,0,1,.07.11.2.2,0,0,1,0,.11.18.18,0,0,1-.06.13.15.15,0,0,1-.14.07.35.35,0,0,1-.18,0l-.17-.13-1.15-.92Z"></path>
                <path class="cls-1" d="M365,64.12a2.38,2.38,0,0,1,1.36.35,1.9,1.9,0,0,1,.74.93,3.58,3.58,0,0,1,.22,1.3v3.8a.36.36,0,0,1-.11.27.37.37,0,0,1-.27.12.39.39,0,0,1-.41-.39V66.74a2.63,2.63,0,0,0-.16-.95,1.53,1.53,0,0,0-.55-.68,1.73,1.73,0,0,0-1-.25,2.33,2.33,0,0,0-1.06.25,2.22,2.22,0,0,0-.8.68,1.57,1.57,0,0,0-.31.95V70.5a.4.4,0,0,1-.68.27.36.36,0,0,1-.11-.27V64.71a.41.41,0,0,1,.11-.28.44.44,0,0,1,.29-.11.38.38,0,0,1,.39.39v1.08l-.3.47a1.72,1.72,0,0,1,.26-.8,2.83,2.83,0,0,1,.62-.68,2.77,2.77,0,0,1,.83-.48A2.56,2.56,0,0,1,365,64.12Z"></path>
                <path class="cls-1" d="M373.51,64.12a4.53,4.53,0,0,1,1.15.14,2.42,2.42,0,0,1,.84.37.62.62,0,0,1,.31.5.4.4,0,0,1-.09.25.3.3,0,0,1-.26.13.49.49,0,0,1-.25-.07,1.13,1.13,0,0,1-.19-.19.71.71,0,0,0-.27-.18,1.7,1.7,0,0,0-.48-.15,3.84,3.84,0,0,0-.71-.06,2.4,2.4,0,0,0-1.3.36,2.6,2.6,0,0,0-.92,1,2.73,2.73,0,0,0-.34,1.37,3,3,0,0,0,.32,1.4,2.48,2.48,0,0,0,.89,1,2.56,2.56,0,0,0,1.33.35,2.79,2.79,0,0,0,.8-.09,2.49,2.49,0,0,0,.49-.21,1.4,1.4,0,0,0,.36-.27.39.39,0,0,1,.3-.14.3.3,0,0,1,.24.1.32.32,0,0,1,.1.25c0,.14-.11.29-.31.46a2.78,2.78,0,0,1-.83.44,3.83,3.83,0,0,1-1.23.19,3.17,3.17,0,0,1-1.69-.46,3.22,3.22,0,0,1-1.14-1.23,3.78,3.78,0,0,1-.4-1.77,3.67,3.67,0,0,1,.41-1.72,3.45,3.45,0,0,1,1.15-1.25A3.17,3.17,0,0,1,373.51,64.12Z"></path>
                <path class="cls-1" d="M379,63.3a.61.61,0,0,1-.41-.13.45.45,0,0,1-.14-.35v-.13a.43.43,0,0,1,.15-.36.65.65,0,0,1,.41-.12.56.56,0,0,1,.38.12.46.46,0,0,1,.14.36v.13a.45.45,0,0,1-.14.35A.57.57,0,0,1,379,63.3Zm.39,7.2a.4.4,0,0,1-.68.27.39.39,0,0,1-.1-.27v-6a.4.4,0,0,1,.11-.27.36.36,0,0,1,.28-.12.38.38,0,0,1,.28.12.4.4,0,0,1,.11.27Z"></path>
                <path class="cls-1" d="M388,64.28a.39.39,0,0,1,.28.11.44.44,0,0,1,.11.29V70.5a.4.4,0,0,1-.68.27.4.4,0,0,1-.11-.27V69l.23-.09a1.49,1.49,0,0,1-.2.73,2.39,2.39,0,0,1-.55.7,3,3,0,0,1-.82.52,2.66,2.66,0,0,1-1,.2,2.79,2.79,0,0,1-1.55-.46,3,3,0,0,1-1.09-1.24,3.93,3.93,0,0,1-.39-1.77,3.77,3.77,0,0,1,.4-1.78,3.17,3.17,0,0,1,1.08-1.21,2.82,2.82,0,0,1,1.54-.44,2.75,2.75,0,0,1,1,.2,2.55,2.55,0,0,1,.85.53,2.35,2.35,0,0,1,.56.77,2.18,2.18,0,0,1,.2.9l-.27-.2V64.68a.44.44,0,0,1,.11-.29A.4.4,0,0,1,388,64.28Zm-2.69,6a2.21,2.21,0,0,0,1.22-.35,2.45,2.45,0,0,0,.83-1,3.19,3.19,0,0,0,.3-1.4,3,3,0,0,0-.3-1.36,2.39,2.39,0,0,0-.83-1,2.13,2.13,0,0,0-1.22-.36,2.19,2.19,0,0,0-1.21.34,2.42,2.42,0,0,0-.84,1,3.13,3.13,0,0,0-.3,1.4,3.19,3.19,0,0,0,.3,1.4,2.31,2.31,0,0,0,.83,1A2.21,2.21,0,0,0,385.34,70.29Z"></path>
                <path class="cls-1" d="M401.93,61.32a.39.39,0,0,1,.28.11.41.41,0,0,1,.11.28V70.5a.4.4,0,0,1-.68.27.4.4,0,0,1-.11-.27V69l.23-.18a1.71,1.71,0,0,1-.19.77,2.47,2.47,0,0,1-.55.72,3,3,0,0,1-.83.54,2.5,2.5,0,0,1-1,.21,2.79,2.79,0,0,1-1.55-.46,3.15,3.15,0,0,1-1.08-1.23,3.73,3.73,0,0,1-.4-1.77,3.77,3.77,0,0,1,.4-1.76,3.15,3.15,0,0,1,1.08-1.23,2.75,2.75,0,0,1,1.54-.45,2.69,2.69,0,0,1,1,.2,2.77,2.77,0,0,1,.85.53,2.24,2.24,0,0,1,.57.77,2,2,0,0,1,.21.9l-.27-.2V61.71a.41.41,0,0,1,.11-.28A.4.4,0,0,1,401.93,61.32Zm-2.69,9a2.21,2.21,0,0,0,1.22-.35,2.46,2.46,0,0,0,.83-1,3.42,3.42,0,0,0,0-2.8,2.36,2.36,0,0,0-.83-1,2.28,2.28,0,0,0-2.43,0,2.39,2.39,0,0,0-.84,1,3.39,3.39,0,0,0,0,2.79,2.51,2.51,0,0,0,.84,1A2.2,2.2,0,0,0,399.24,70.29Z"></path>
                <path class="cls-1" d="M406,63.3a.58.58,0,0,1-.4-.13.45.45,0,0,1-.14-.35v-.13a.43.43,0,0,1,.15-.36.63.63,0,0,1,.41-.12.56.56,0,0,1,.38.12.45.45,0,0,1,.13.36v.13a.45.45,0,0,1-.13.35A.58.58,0,0,1,406,63.3Zm.39,7.2a.4.4,0,0,1-.11.27.38.38,0,0,1-.28.12.35.35,0,0,1-.28-.12.39.39,0,0,1-.1-.27v-6a.36.36,0,0,1,.11-.27.34.34,0,0,1,.27-.12.35.35,0,0,1,.28.12.36.36,0,0,1,.11.27Z"></path>
                <path class="cls-1" d="M412.4,64.12a2.82,2.82,0,0,1,1.06.2,3.18,3.18,0,0,1,.86.52,2.73,2.73,0,0,1,.58.67,1.37,1.37,0,0,1,.21.68l-.21-.31v-1.2a.44.44,0,0,1,.11-.29.39.39,0,0,1,.28-.11.41.41,0,0,1,.28.11.44.44,0,0,1,.11.29v5.61a3.34,3.34,0,0,1-.43,1.73,2.74,2.74,0,0,1-1.16,1.08,3.59,3.59,0,0,1-1.66.37,4.62,4.62,0,0,1-.95-.11,3.81,3.81,0,0,1-.85-.3c-.24-.12-.38-.25-.41-.38a.35.35,0,0,1-.09-.22.27.27,0,0,1,.1-.19.26.26,0,0,1,.28,0l.43.19.35.11a2.88,2.88,0,0,0,.53.14,3.18,3.18,0,0,0,.62.06,2.27,2.27,0,0,0,2.46-2.41V69.1l.13,0a2.37,2.37,0,0,1-.38.8,2.71,2.71,0,0,1-.63.59,2.77,2.77,0,0,1-.78.36,2.92,2.92,0,0,1-.82.13,3,3,0,0,1-1.62-.46,3.17,3.17,0,0,1-1.12-1.23,3.62,3.62,0,0,1-.42-1.77,3.66,3.66,0,0,1,.42-1.76,3.17,3.17,0,0,1,1.12-1.23A2.93,2.93,0,0,1,412.4,64.12Zm.08.74a2.37,2.37,0,0,0-2.14,1.31,3.2,3.2,0,0,0,0,2.79,2.53,2.53,0,0,0,.88,1,2.39,2.39,0,0,0,1.26.35,2.35,2.35,0,0,0,1.27-.35,2.48,2.48,0,0,0,.88-1,3.29,3.29,0,0,0,0-2.83,2.52,2.52,0,0,0-.88-1A2.34,2.34,0,0,0,412.48,64.86Z"></path>
                <path class="cls-1" d="M419.37,63.3a.58.58,0,0,1-.4-.13.45.45,0,0,1-.14-.35v-.13a.43.43,0,0,1,.15-.36.63.63,0,0,1,.41-.12.56.56,0,0,1,.38.12.45.45,0,0,1,.13.36v.13a.45.45,0,0,1-.13.35A.58.58,0,0,1,419.37,63.3Zm.39,7.2a.37.37,0,0,1-.12.27.34.34,0,0,1-.27.12.35.35,0,0,1-.28-.12.39.39,0,0,1-.1-.27v-6a.36.36,0,0,1,.11-.27.34.34,0,0,1,.27-.12.35.35,0,0,1,.28.12.4.4,0,0,1,.11.27Z"></path>
                <path class="cls-1" d="M422.64,64.3h3a.36.36,0,0,1,.26.11.39.39,0,0,1,.1.27.34.34,0,0,1-.36.36h-3a.33.33,0,0,1-.26-.11.36.36,0,0,1-.11-.26.35.35,0,0,1,.11-.26A.36.36,0,0,1,422.64,64.3ZM424,62.48a.34.34,0,0,1,.27.12.35.35,0,0,1,.11.27v6.49a1.23,1.23,0,0,0,.1.54.52.52,0,0,0,.25.24.89.89,0,0,0,.31.06.54.54,0,0,0,.19,0,.58.58,0,0,1,.19,0,.27.27,0,0,1,.2.09.3.3,0,0,1,.08.23.35.35,0,0,1-.2.3,1,1,0,0,1-.49.13l-.35,0a1.27,1.27,0,0,1-.48-.15,1,1,0,0,1-.42-.43,1.94,1.94,0,0,1-.16-.89V62.87a.35.35,0,0,1,.11-.27A.38.38,0,0,1,424,62.48Z"></path>
                <path class="cls-1" d="M434.11,64.28a.38.38,0,0,1,.28.11.44.44,0,0,1,.11.29V70.5a.4.4,0,0,1-.11.27.38.38,0,0,1-.28.12.38.38,0,0,1-.29-.12.4.4,0,0,1-.11-.27V69l.24-.09a1.51,1.51,0,0,1-.21.73,2.53,2.53,0,0,1-.54.7,3.16,3.16,0,0,1-.83.52,2.61,2.61,0,0,1-1,.2,2.8,2.8,0,0,1-1.56-.46,3.14,3.14,0,0,1-1.09-1.24,3.93,3.93,0,0,1-.39-1.77,3.77,3.77,0,0,1,.4-1.78,3.25,3.25,0,0,1,1.08-1.21,2.82,2.82,0,0,1,1.54-.44,2.75,2.75,0,0,1,1,.2,2.55,2.55,0,0,1,.85.53,2.35,2.35,0,0,1,.56.77,2,2,0,0,1,.2.9l-.27-.2V64.68a.44.44,0,0,1,.11-.29A.42.42,0,0,1,434.11,64.28Zm-2.69,6a2.18,2.18,0,0,0,1.22-.35,2.45,2.45,0,0,0,.83-1,3.06,3.06,0,0,0,.31-1.4,2.93,2.93,0,0,0-.31-1.36,2.39,2.39,0,0,0-.83-1,2.11,2.11,0,0,0-1.22-.36,2.16,2.16,0,0,0-1.2.34,2.45,2.45,0,0,0-.85,1,3.13,3.13,0,0,0-.3,1.4,3.19,3.19,0,0,0,.3,1.4,2.38,2.38,0,0,0,.83,1A2.23,2.23,0,0,0,431.42,70.29Z"></path>
                <path class="cls-1" d="M438.68,70.5a.41.41,0,0,1-.39.39.38.38,0,0,1-.28-.12.4.4,0,0,1-.11-.27V61.71a.38.38,0,0,1,.12-.28.4.4,0,0,1,.27-.11.38.38,0,0,1,.39.39Z"></path>
                <path class="cls-1" d="M163.85,14.22c-4.31,0-8.15,1.34-11.12,6.06-1.88-4.58-5.85-6.2-9.83-6.2-3.16,0-7,1.21-8.75,4.58l-.61-4h-7.61V47.89h8.22V30.11c0-4.38,2.62-8.35,7.07-8.35s6.8,4,6.8,8.35V47.89h8.22V30.11c0-4.38,2.76-8.22,7.2-8.22S169.7,25.6,169.7,30V47.89h8.22V30C177.92,20,173.27,14.22,163.85,14.22Z"></path>
                <path class="cls-1" d="M212.33,19.27c-1.89-3.3-6.13-5.39-10.57-5.39-9.7-.07-17.31,5.93-17.31,17.37,0,.56,0,1.1.06,1.63.66,10.58,7.68,16.08,17,16,3.71-.07,8.89-2,10.78-5.86l.4,4.85h7.75V14.69H212.6ZM202.5,41.35a9.42,9.42,0,0,1-9.79-9c0-.36-.05-.73-.05-1.11,0-6.33,4.38-10,9.84-10,6.47,0,9.71,5.05,9.69,10.1S209,41.35,202.5,41.35Z"></path>
                <path class="cls-1" d="M235.63,18.53,235,14.69h-7.61v33.2h8.22V30.38c0-6.13,4-8.42,8.28-8.42a8.21,8.21,0,0,1,5.93,2.16l3.7-7.14A12.6,12.6,0,0,0,245,13.81C241.62,13.81,238.19,14.42,235.63,18.53Z"></path>
                <path class="cls-1" d="M315.09,14.69l-.27,4.58c-1.89-3.3-6.13-5.39-10.58-5.39-9.2-.06-16.51,5.34-17.23,15.67,0,.56-.07,1.12-.07,1.7,0,11.65,7.27,17.71,17.1,17.65,3.71-.07,8.89-2,10.78-5.86l.4,4.85H323V14.69ZM305,41.35c-5.45,0-9.83-3.77-9.83-10.1a11.47,11.47,0,0,1,.13-1.69,9.33,9.33,0,0,1,9.7-8.34c5.8,0,9,4.05,9.59,8.51C315.31,35.23,312.12,41.35,305,41.35Z"></path>
                <path class="cls-1" d="M272.33,41c-5.12,0-9.43-3.37-9.43-9.7a11.49,11.49,0,0,1,.11-1.57,9.23,9.23,0,0,1,9.45-8.26,10.06,10.06,0,0,1,6.67,2.63l5.18-5.46a15.75,15.75,0,0,0-12-4.92c-9.23,0-17,5.34-17.59,16.16,0,.47-.06.93-.06,1.42,0,11.79,8,17.58,17.65,17.58a17.06,17.06,0,0,0,12.79-5.26l-5.52-5.38A10,10,0,0,1,272.33,41Z"></path>
                    <polygon class="cls-2" points="362.96 31.15 362.96 47.89 371.18 47.89 371.18 31.54 371.18 14.55 362.96 14.55 362.96 31.15"></polygon><path class="cls-3" d="M362.22,5.33c0,6.39,9.7,6.39,9.7,0S362.22-1.07,362.22,5.33Z">
                </path>
                <path class="cls-4" d="M438.38,34.22c1.28-13.67-5.66-20.54-16.77-20.54C410.84,13.68,404,21,404,31.05a22.57,22.57,0,0,0,.15,2.51c1,9.23,7.58,15.2,18.1,15.2,5,0,10.77-1.75,14.28-5.39l-5.26-5.18c-1.88,2-5.86,3.1-8.89,3.1-5.79,0-9.36-3-9.9-7.07h25.93ZM421.88,21c4.72,0,8.08,2.16,8.62,6.46H412.59C413.8,23.11,417.44,21,421.88,21Z"></path>
                <path class="cls-5" d="M354.63,30.8c-2.89-2.44-7.32-3.07-11.13-3.32-4.24-.27-6.19-1.48-6.19-3.63s2.15-3.3,6.06-3.3a11.19,11.19,0,0,1,8.21,3l4.58-5.39c-3.84-3.37-7.74-4.38-12.93-4.38-6.06,0-14,2.7-14,10.38a8.45,8.45,0,0,0,2.22,5.94c2.69,2.92,7.37,4.05,11.52,4.36,4.72.27,6.6,1.21,6.6,3.5s-2.89,4-6,4c-3.71-.06-9.09-2-11.45-4.64l-4,5.86c4.85,5,10.1,5.92,15.35,5.92,9.5,0,14.28-5.05,14.28-10.91A9,9,0,0,0,354.63,30.8Z"></path>
                <path class="cls-6" d="M394.41,40.88c-2.56,0-4.31-1.55-4.31-4.71V21.83h9.22V14.75h-9.15V5.33L382,6.2v8.55h-6.2v7.08H382V36.17c0,8.28,4.71,12.39,11.92,12.12a18.47,18.47,0,0,0,6.8-1.41l-2.29-7A9.31,9.31,0,0,1,394.41,40.88Z"></path>
                <path class="cls-7" d="M57.17,24.53l-5.1-5.72a2.33,2.33,0,0,1-.53-2.1l-.39-.47h0A2.33,2.33,0,0,1,50.85,19l-5.16,5.67-8.78,9.65-2.79,3.05,5.52,6.16,0,0,1.91,2.13,0,0s0,0,0,0l1.08,1a13.54,13.54,0,0,0,19.11-1.07l2.43-2.72,4.59-5.35-3-3.32Z"></path>
                <path class="cls-8" d="M94.58,45.88l-1.06.88A12.86,12.86,0,0,1,75.4,45.09l-1.31-1.5,2.72,3.18a12.85,12.85,0,0,0,17.08-.07l1-.91a12.81,12.81,0,0,0,4.27-9A12.83,12.83,0,0,1,94.58,45.88Z"></path>
                <path class="cls-9" d="M97.15,29a13.41,13.41,0,0,1,1.08,2.05,12.7,12.7,0,0,0-2.29-3.65L80.25,9.85,78.32,7.68l-.12-.12-.91-.81a12.86,12.86,0,0,0-18.15,1l-2.37,2.66-4.62,5.17-.09.09a2.24,2.24,0,0,0-.52,1L68.83,37.57,87.41,17.85Z"></path><path class="cls-10" d="M52.07,18.81l5.1,5.72,8.69,9.72,3,3.32L51.54,16.71A2.33,2.33,0,0,0,52.07,18.81Z"></path>
                <path class="cls-11" d="M52.07,18.81l5.1,5.72,8.69,9.72,3,3.32L51.54,16.71A2.33,2.33,0,0,0,52.07,18.81Z"></path>
                <path class="cls-12" d="M37.89,30.47,51.14,16.24a2.26,2.26,0,0,0-.26-.37l-.08-.09-4.57-5.22L43.88,7.89A12.88,12.88,0,0,0,25.72,6.7l-.91.8-.12.13-2,2.14L6.87,27.19a12.86,12.86,0,0,0,.85,18.18l1,.92a12.85,12.85,0,0,0,17.07.23l8.1-8.9.22-.24-.66-.73C33.9,34,36,32.58,37.89,30.47Z"></path>
                <path class="cls-13" d="M45.69,24.68,50.85,19a2.33,2.33,0,0,0,.29-2.77L37.89,30.47c-1.89,2.11-4,3.57-4.43,6.18l.66.73,2.79-3.05Z"></path>
                <path class="cls-14" d="M45.69,24.68,50.85,19a2.33,2.33,0,0,0,.29-2.77L37.89,30.47c-1.89,2.11-4,3.57-4.43,6.18l.66.73,2.79-3.05Z"></path>
                <polygon class="cls-15" points="68.83 37.57 74.09 43.59 71.32 40.36 68.83 37.57"></polygon><path class="cls-16" d="M99.17,35.11c0,.1,0,.21,0,.31C99.18,35.32,99.18,35.21,99.17,35.11Z"></path>
                <path class="cls-17" d="M99.17,35.11c0-.44-.08-.88-.15-1.31,0-.14,0-.27-.07-.4s-.08-.31-.11-.46-.11-.46-.18-.69-.06-.16-.08-.24c-.1-.3-.2-.6-.32-.89l0-.07A13.41,13.41,0,0,0,97.15,29L87.41,17.85,68.83,37.57l2.49,2.79,2.77,3.23,1.31,1.5a12.86,12.86,0,0,0,18.12,1.67l1.06-.88a12.83,12.83,0,0,0,4.61-9.11,12.16,12.16,0,0,0,0-1.35C99.18,35.32,99.18,35.21,99.17,35.11Z"></path>
                <path class="cls-18" d="M99.17,35.11c0-.44-.08-.88-.15-1.31,0-.14,0-.27-.07-.4s-.08-.31-.11-.46-.11-.46-.18-.69-.06-.16-.08-.24c-.1-.3-.2-.6-.32-.89l0-.07A13.41,13.41,0,0,0,97.15,29L87.41,17.85,68.83,37.57l2.49,2.79,2.77,3.23,1.31,1.5a12.86,12.86,0,0,0,18.12,1.67l1.06-.88a12.83,12.83,0,0,0,4.61-9.11,12.16,12.16,0,0,0,0-1.35C99.18,35.32,99.18,35.21,99.17,35.11Z"></path>
                <path class="cls-19" d="M99,33.8c.07.43.12.87.15,1.31C99.14,34.67,99.09,34.23,99,33.8Z"></path>
                <path class="cls-20" d="M99,33.8c.07.43.12.87.15,1.31C99.14,34.67,99.09,34.23,99,33.8Z"></path>
                <path class="cls-19" d="M99,33.8c.07.43.12.87.15,1.31C99.14,34.67,99.09,34.23,99,33.8Z"></path>
                <path class="cls-21" d="M99.19,35.42a12.16,12.16,0,0,1,0,1.35,10.44,10.44,0,0,0,0-1.12C99.2,35.57,99.19,35.5,99.19,35.42Z"></path>
                <path class="cls-22" d="M99.19,35.42a12.16,12.16,0,0,1,0,1.35,10.44,10.44,0,0,0,0-1.12C99.2,35.57,99.19,35.5,99.19,35.42Z"></path>
                <path class="cls-21" d="M99.19,35.42a12.16,12.16,0,0,1,0,1.35,10.44,10.44,0,0,0,0-1.12C99.2,35.57,99.19,35.5,99.19,35.42Z"></path>
            </svg>

            <div id="form" class="w-full">
                <CustomInput v-model="form.email"
                    label="Usuário"
                    :iconSvg="userIcon"
                    iconPosition="left"
                    type="email"
                    :disabled="sendingToApi"
                    placeholder="usuario@email.com"
                />

                <CustomInput v-model="form.password"
                    label="Senha"
                    :iconSvg="passIcon"
                    iconPosition="left"
                    :disabled="sendingToApi"
                    type="password"
                />

                <span v-if="hasError" class="text-center w-full input-marcasite-message error">
                    Login ou senha inválidos, tente novamente
                </span>

                <PrimaryButton
                    @click-ev="login"
                    class="mt-4 mx-auto"
                    :disabled="sendingToApi">
                    Login
                </PrimaryButton>

                <!-- <a href="#" class="mt-4 mx-auto" v-on:click="showRegisterModal">
                    Não possui cadastro? Clique aqui!
                </a> -->
            </div>
        </div>
    </div>
</template>

<script>
export default {
    data() {
        return {
            form: {
                email: '',
                password: ''
            },
            hasError: false,
            onComplete: false,
            sendingToApi: false,
            registerModalShowed: false,
        };
    },
    computed:{
        userIcon() {
            return `<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.1735 14.7021C14.9836 12.645 13.15 11.17 11.0102 10.4708C12.0686 9.84072 12.891 8.88058 13.351 7.73785C13.8109 6.59513 13.8831 5.33301 13.5563 4.14532C13.2296 2.95763 12.522 1.91004 11.5422 1.16342C10.5624 0.416808 9.36466 0.0124512 8.13284 0.0124512C6.90102 0.0124512 5.70325 0.416808 4.72349 1.16342C3.74372 1.91004 3.03612 2.95763 2.70936 4.14532C2.3826 5.33301 2.45474 6.59513 2.91471 7.73785C3.37467 8.88058 4.19703 9.84072 5.2555 10.4708C3.11565 11.1693 1.28206 12.6443 0.0922159 14.7021C0.0485822 14.7732 0.0196403 14.8524 0.0070978 14.9349C-0.00544473 15.0174 -0.00133381 15.1016 0.019188 15.1825C0.0397098 15.2634 0.0762269 15.3394 0.126585 15.4059C0.176942 15.4725 0.24012 15.5283 0.312392 15.57C0.384663 15.6118 0.464563 15.6386 0.547378 15.649C0.630193 15.6594 0.714246 15.653 0.794576 15.6304C0.874907 15.6077 0.949888 15.5692 1.0151 15.5171C1.08031 15.465 1.13442 15.4004 1.17425 15.3271C2.64612 12.7833 5.24768 11.2646 8.13284 11.2646C11.018 11.2646 13.6196 12.7833 15.0914 15.3271C15.1313 15.4004 15.1854 15.465 15.2506 15.5171C15.3158 15.5692 15.3908 15.6077 15.4711 15.6304C15.5514 15.653 15.6355 15.6594 15.7183 15.649C15.8011 15.6386 15.881 15.6118 15.9533 15.57C16.0256 15.5283 16.0887 15.4725 16.1391 15.4059C16.1895 15.3394 16.226 15.2634 16.2465 15.1825C16.267 15.1016 16.2711 15.0174 16.2586 14.9349C16.246 14.8524 16.2171 14.7732 16.1735 14.7021ZM3.75784 5.63958C3.75784 4.77428 4.01443 3.92842 4.49516 3.20896C4.97589 2.48949 5.65917 1.92874 6.4586 1.5976C7.25803 1.26647 8.13769 1.17983 8.98636 1.34864C9.83503 1.51745 10.6146 1.93413 11.2264 2.54598C11.8383 3.15784 12.255 3.93739 12.4238 4.78606C12.5926 5.63472 12.5059 6.51439 12.1748 7.31382C11.8437 8.11324 11.2829 8.79653 10.5635 9.27726C9.844 9.75799 8.99813 10.0146 8.13284 10.0146C6.9729 10.0133 5.86082 9.552 5.04062 8.7318C4.22042 7.9116 3.75908 6.79952 3.75784 5.63958Z" fill="#171717"/>
            </svg>`;
        },
        passIcon() {
            return `<svg width="15" height="17" viewBox="0 0 15 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.75 5.63745H11.25V3.76245C11.25 2.76789 10.8549 1.81406 10.1517 1.1108C9.44839 0.407539 8.49456 0.0124512 7.5 0.0124512C6.50544 0.0124512 5.55161 0.407539 4.84835 1.1108C4.14509 1.81406 3.75 2.76789 3.75 3.76245V5.63745H1.25C0.918479 5.63745 0.600537 5.76915 0.366116 6.00357C0.131696 6.23799 0 6.55593 0 6.88745V15.6375C0 15.969 0.131696 16.2869 0.366116 16.5213C0.600537 16.7558 0.918479 16.8875 1.25 16.8875H13.75C14.0815 16.8875 14.3995 16.7558 14.6339 16.5213C14.8683 16.2869 15 15.969 15 15.6375V6.88745C15 6.55593 14.8683 6.23799 14.6339 6.00357C14.3995 5.76915 14.0815 5.63745 13.75 5.63745ZM5 3.76245C5 3.09941 5.26339 2.46353 5.73223 1.99468C6.20107 1.52584 6.83696 1.26245 7.5 1.26245C8.16304 1.26245 8.79893 1.52584 9.26777 1.99468C9.73661 2.46353 10 3.09941 10 3.76245V5.63745H5V3.76245ZM13.75 15.6375H1.25V6.88745H13.75V15.6375ZM8.4375 11.2625C8.4375 11.4479 8.38252 11.6291 8.2795 11.7833C8.17649 11.9375 8.03007 12.0576 7.85877 12.1286C7.68746 12.1995 7.49896 12.2181 7.3171 12.1819C7.13525 12.1458 6.9682 12.0565 6.83709 11.9254C6.70598 11.7943 6.61669 11.6272 6.58051 11.4453C6.54434 11.2635 6.56291 11.075 6.63386 10.9037C6.70482 10.7324 6.82498 10.586 6.97915 10.4829C7.13332 10.3799 7.31458 10.325 7.5 10.325C7.74864 10.325 7.9871 10.4237 8.16291 10.5995C8.33873 10.7754 8.4375 11.0138 8.4375 11.2625Z" fill="#171717"/>
            </svg>`;
        },
    },
    async created() {
        this.onComplete = await Auth.maintainOnLogin();
    },
    methods: {
        async login() {
            this.sendingToApi = true;
            this.hasError = false;

            const result = await Auth.login(this.form);

            this.sendingToApi = false;
            this.hasError = !result;
        },
        showRegisterModal() {
            this.registerModalShowed = true;
        },
        closeRegisterModal() {
            this.registerModalShowed = false;
        },
    },
    watch: {
        sendingToApi(newVal) {
            if (Store.getters.getToken != null && Store.getters.getRole) {
                window.location.assign(route(`pages.${Store.getters.getRole}.dashboard.index`));
            }
        },
    }
}
</script>
